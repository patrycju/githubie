(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8253:(e,t,r)=>{Promise.resolve().then(r.bind(r,9238))},9238:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eV});var a=r(5155),s=r(2115),l=r(9708),o=r(2085),i=r(2596),d=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,d.QP)((0,i.$)(t))}let c=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:i=!1,...d}=e,m=i?l.DX:"button";return(0,a.jsx)(m,{className:n(c({variant:s,size:o,className:r})),ref:t,...d})});m.displayName="Button";let p=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:n("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});p.displayName="Input";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});u.displayName="Card";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",r),...s})});x.displayName="CardHeader";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("text-2xl font-semibold leading-none tracking-tight",r),...s})});h.displayName="CardTitle";let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("text-sm text-muted-foreground",r),...s})});g.displayName="CardDescription";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("p-6 pt-0",r),...s})});f.displayName="CardContent";let b=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",r),...s})});b.displayName="CardFooter";var y=r(5339);function v(e){let{onSubmit:t}=e,[r,l]=(0,s.useState)(""),[o,i]=(0,s.useState)(""),d=async e=>{if(e.preventDefault(),!r.trim()){i("Please enter a GitHub API key");return}try{if(!(await fetch("https://api.github.com/user",{headers:{Authorization:"token ".concat(r)}})).ok)throw Error("Invalid API key");t(r),i("")}catch(e){i("Invalid GitHub API key. Please check and try again.")}};return(0,a.jsxs)(u,{className:"w-full max-w-md mx-auto border-t-4 border-t-purple-500 shadow-lg dark:bg-gray-800 dark:border-purple-700",children:[(0,a.jsxs)(x,{className:"bg-gradient-to-r from-purple-50 to-white dark:from-purple-900/30 dark:to-gray-800",children:[(0,a.jsx)(h,{className:"text-purple-700 dark:text-purple-300",children:"GitHub API Key"}),(0,a.jsx)(g,{className:"dark:text-gray-300",children:"Enter your GitHub personal access token to start exploring repositories. You can create a token in your GitHub settings under Developer Settings > Personal access tokens."})]}),(0,a.jsxs)("form",{onSubmit:d,children:[(0,a.jsx)(f,{className:"pt-6",children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p,{id:"apiKey",type:"password",placeholder:"ghp_xxxxxxxxxxxxxxxxxxxx",value:r,onChange:e=>l(e.target.value),className:"w-full border-blue-200 focus-visible:ring-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),o&&(0,a.jsxs)("div",{className:"flex items-center text-red-500 text-sm dark:text-red-400",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-1"}),(0,a.jsx)("span",{children:o})]})]})})}),(0,a.jsx)(b,{children:(0,a.jsx)(m,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800",children:"Save API Key"})})]})]})}var N=r(3786),j=r(8564),k=r(2657),w=r(6766);function S(e){let{repository:t,onMarkAsSeen:r,onAddTopicToCollection:s,collectionTopics:l,isSeen:o=!1,isFavorite:i=!1,onToggleFavorite:d,hideMarkAsSeen:n=!1,className:c=""}=e,p=e=>l.some(t=>t.name===e);return(0,a.jsx)(u,{className:"overflow-hidden hover:shadow-md transition-shadow dark:bg-gray-800 dark:border-gray-700 ".concat(o?"opacity-70 bg-gray-50 dark:bg-gray-900":""," ").concat(c),children:(0,a.jsx)(f,{className:"p-0",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-6",children:[t.image&&(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(w.default,{src:t.image||"/placeholder.svg",alt:t.name,width:100,height:100,className:"rounded-md object-cover ".concat(o?"opacity-70":"")})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold flex items-center",children:(0,a.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline flex items-center text-emerald-700 dark:text-emerald-400 ".concat(o?"text-emerald-600 dark:text-emerald-500":""),children:[t.owner,"/",t.name,(0,a.jsx)(N.A,{className:"ml-2 h-4 w-4"})]})}),(0,a.jsx)("p",{className:"text-gray-600 mt-1 dark:text-gray-300 ".concat(o?"text-gray-500 dark:text-gray-400":""),children:t.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center text-amber-500 font-medium dark:text-amber-400 ".concat(o?"text-amber-400 dark:text-amber-500":""),children:[(0,a.jsx)(j.A,{className:"h-4 w-4 fill-amber-500 dark:fill-amber-400 mr-1 ".concat(o?"fill-amber-400 dark:fill-amber-500":"")}),t.stars.toLocaleString()]}),(0,a.jsx)(m,{variant:"ghost",size:"icon",onClick:()=>d(t.id),className:"h-8 w-8 ".concat(i?"text-amber-500 hover:text-amber-600 dark:text-amber-400 dark:hover:text-amber-300":"text-gray-400 hover:text-amber-500 dark:text-gray-500 dark:hover:text-amber-400"),title:i?"Remove from favorites":"Add to favorites",children:(0,a.jsx)(j.A,{className:"h-4 w-4 ".concat(i?"fill-current":"")})}),!n&&(0,a.jsx)(m,{variant:"ghost",size:"icon",onClick:()=>r(t.id),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 h-8 w-8",title:"Mark as seen",children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})]})]}),t.topics.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:t.topics.map(e=>(0,a.jsx)("button",{className:"text-xs px-2 py-1 rounded-full transition-colors ".concat(p(e)?"bg-purple-100 text-purple-800 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-200 dark:hover:bg-purple-800":"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800"," ").concat(o?"opacity-80":""),onClick:()=>s(e),title:p(e)?"Already in collection":"Click to add to current collection",children:e},e))})]})]})})})})}var C=r(8749),A=r(7924);function T(e){let{repositories:t,seenRepositories:r,isLoading:l,onMarkAsSeen:o,onAddTopicToCollection:i,onToggleFavorite:d,collectionName:n,collectionTopics:c,favorites:g,onLoadMore:b,hasMore:y,collectionId:v}=e,[N,w]=(0,s.useState)(""),[T,R]=(0,s.useState)(!1),I=(0,s.useRef)(null),E=(0,s.useRef)(null),O=t.filter(e=>!g.some(t=>t.id===e.id)),z=r.filter(e=>!g.some(t=>t.id===e.id)),D=(T?[...O,...z].sort((e,t)=>t.stars-e.stars):O).filter(e=>e.name.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase())||e.owner.toLowerCase().includes(N.toLowerCase())),_=g.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase())||e.owner.toLowerCase().includes(N.toLowerCase())),L=(0,s.useCallback)(()=>{I.current&&I.current.disconnect(),I.current=new IntersectionObserver(e=>{e[0].isIntersecting&&y&&!l&&b()},{threshold:.5}),E.current&&I.current.observe(E.current)},[y,l,b]);return(0,s.useEffect)(()=>(L(),()=>{I.current&&I.current.disconnect()}),[L,D.length]),(0,a.jsxs)(u,{className:"w-full border-t-4 border-t-purple-500 dark:bg-gray-800 dark:border-purple-700 h-full",children:[(0,a.jsxs)(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2 bg-gradient-to-r from-purple-50 to-white dark:from-purple-900/30 dark:to-gray-800",children:[(0,a.jsxs)(h,{className:"text-purple-700 dark:text-purple-300",children:[n," Repositories",O.length>0&&(0,a.jsxs)("span",{className:"ml-2 text-purple-400 dark:text-purple-500",children:["(",O.length,")"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>R(!T),className:"flex items-center gap-1 ".concat(T?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800":"bg-gray-50 dark:bg-gray-700 dark:text-gray-200"),children:T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A,{className:"h-4 w-4"})," Hide Seen"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.A,{className:"h-4 w-4"})," Show Seen"]})})})]}),(0,a.jsxs)(f,{className:"dark:bg-gray-800",children:[(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)(A.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500 dark:text-gray-400"}),(0,a.jsx)(p,{placeholder:"Search repositories...",className:"pl-8 border-blue-200 focus-visible:ring-blue-400 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder:text-gray-400",value:N,onChange:e=>w(e.target.value)})]}),l&&0===D.length&&0===_.length?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 dark:border-purple-400"})}):(0,a.jsxs)("div",{className:"space-y-4 overflow-y-auto max-h-[calc(100vh-220px)]",children:[_.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 dark:from-amber-600 dark:to-orange-600 p-3 rounded-lg shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 mr-2 fill-white"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white",children:"Favorites"}),(0,a.jsx)("span",{className:"ml-2 bg-white/20 text-white px-2 py-0.5 rounded-full text-sm",children:_.length})]}),(0,a.jsx)("div",{className:"space-y-4 mt-3",children:_.map(e=>(0,a.jsx)(S,{repository:e,onMarkAsSeen:o,onAddTopicToCollection:i,collectionTopics:c,isSeen:r.some(t=>t.id===e.id),isFavorite:!0,onToggleFavorite:d,className:"border-amber-200 dark:border-amber-700 bg-white dark:bg-gray-800"},"fav-".concat(e.id)))})]}),D.length>0&&(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-6"})]}),D.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[D.map(e=>(0,a.jsx)(S,{repository:e,onMarkAsSeen:o,onAddTopicToCollection:i,collectionTopics:c,isSeen:r.some(t=>t.id===e.id),isFavorite:!1,onToggleFavorite:d},e.id)),y&&(0,a.jsx)("div",{ref:E,className:"flex justify-center py-4",children:l?(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 dark:border-purple-400"}):(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Scroll for more"})})]}):0===_.length&&(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,a.jsx)("p",{children:"No repositories found for this collection."}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"Try adding more topics or lowering the minimum star requirement."})]})]})]})]})}var R=r(968);let I=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),E=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(R.b,{ref:t,className:n(I(),r),...s})});E.displayName=R.b.displayName;var O=r(5452),z=r(4416);let D=O.bL;O.l9;let _=O.ZL;O.bm;let L=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(O.hJ,{ref:t,className:n("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});L.displayName=O.hJ.displayName;let F=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(_,{children:[(0,a.jsx)(L,{}),(0,a.jsxs)(O.UC,{ref:t,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...l,children:[s,(0,a.jsxs)(O.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(z.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});F.displayName=O.UC.displayName;let P=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:n("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};P.displayName="DialogHeader";let M=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:n("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};M.displayName="DialogFooter";let H=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(O.hE,{ref:t,className:n("text-lg font-semibold leading-none tracking-tight",r),...s})});H.displayName=O.hE.displayName;let J=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(O.VY,{ref:t,className:n("text-sm text-muted-foreground",r),...s})});J.displayName=O.VY.displayName;var U=r(4616);function V(e){let{isOpen:t,onClose:r,onSave:l,collection:o}=e,[i,d]=(0,s.useState)(""),[n,c]=(0,s.useState)("500"),[u,x]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[f,b]=(0,s.useState)([]),y=!!o,v=(0,s.useRef)(null);(0,s.useEffect)(()=>{o?(d(o.name),c(o.minStars.toString()),b([...o.topics])):(d(""),c("500"),b([]))},[o,t]);let N=()=>{u.trim()&&(b([...f,{name:u.trim(),minStars:h?Number.parseInt(h):void 0}]),x(""),g(""),v.current&&v.current.focus())},j=e=>{"Enter"===e.key&&(e.preventDefault(),N())},k=e=>{let t=[...f];t.splice(e,1),b(t)};return(0,a.jsx)(D,{open:t,onOpenChange:e=>!e&&r(),children:(0,a.jsxs)(F,{className:"sm:max-w-[500px] dark:bg-gray-800 dark:border-gray-700",children:[(0,a.jsxs)(P,{children:[(0,a.jsx)(H,{className:"dark:text-white",children:y?"Edit Collection":"Create Collection"}),(0,a.jsx)(J,{className:"dark:text-gray-300",children:y?"Update your collection details and topics.":"Create a new collection to organize GitHub repositories."})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&0!==f.length&&(l({id:(null==o?void 0:o.id)||Date.now(),name:i.trim(),minStars:Number.parseInt(n)||500,topics:f,seenRepos:(null==o?void 0:o.seenRepos)||[]}),r())},children:[(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(E,{htmlFor:"name",className:"dark:text-gray-200",children:"Collection Name"}),(0,a.jsx)(p,{id:"name",value:i,onChange:e=>d(e.target.value),placeholder:"e.g., Frontend",required:!0,className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(E,{htmlFor:"minStars",className:"dark:text-gray-200",children:"Default Minimum Stars"}),(0,a.jsx)(p,{id:"minStars",type:"number",value:n,onChange:e=>c(e.target.value),placeholder:"500",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(E,{className:"dark:text-gray-200",children:"Topics"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(p,{ref:v,value:u,onChange:e=>x(e.target.value),onKeyDown:j,placeholder:"Topic name",className:"flex-1 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,a.jsx)(p,{type:"number",value:h,onChange:e=>g(e.target.value),onKeyDown:j,placeholder:"Min stars (optional)",className:"w-40 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,a.jsx)(m,{type:"button",onClick:N,size:"icon",className:"dark:bg-purple-700 dark:hover:bg-purple-600",children:(0,a.jsx)(U.A,{className:"h-4 w-4"})})]})]}),f.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(E,{className:"dark:text-gray-200",children:"Added Topics"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:f.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-full px-3 py-1 text-sm dark:text-white",children:[(0,a.jsx)("span",{children:e.name}),e.minStars&&(0,a.jsxs)("span",{className:"ml-1 text-gray-500 dark:text-gray-400",children:["(",e.minStars,"â˜…)"]}),(0,a.jsx)(m,{type:"button",variant:"ghost",size:"icon",className:"h-5 w-5 ml-1 p-0 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",onClick:()=>k(t),children:(0,a.jsx)(z.A,{className:"h-3 w-3"})})]},t))})]})]}),(0,a.jsxs)(M,{children:[(0,a.jsx)(m,{type:"button",variant:"outline",onClick:r,className:"dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:"Cancel"}),(0,a.jsx)(m,{type:"submit",disabled:!i.trim()||0===f.length,className:"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800",children:y?"Save Changes":"Create Collection"})]})]})]})})}let G=0;function Y(){return(G=(G+1)%Number.MAX_SAFE_INTEGER).toString()}let K=[],Z=[];function q(e){Z=function(e,t){switch(t.type){case"ADD_TOAST":return[...e,{id:Y(),...t.toast}].slice(-5);case"UPDATE_TOAST":return e.map(e=>e.id===t.toastId?{...e,...t.toast}:e);case"DISMISS_TOAST":{let r=t.toastId;if(r)return e.map(e=>e.id===r?{...e,open:!1}:e);return e.map(e=>({...e,open:!1}))}case"REMOVE_TOAST":if(void 0===t.toastId)return[];return e.filter(e=>e.id!==t.toastId)}}(Z,e),K.forEach(e=>{e(Z)})}let X=e=>{let t=Y();return q({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||q({type:"DISMISS_TOAST",toastId:t})}}}),setTimeout(()=>{q({type:"REMOVE_TOAST",toastId:t})},5e3),{id:t,dismiss:()=>q({type:"DISMISS_TOAST",toastId:t}),update:e=>q({type:"UPDATE_TOAST",toast:e,toastId:t})}};function B(e){return X({...e,className:"destructive"===e.variant?"bg-red-50 border-red-200 dark:bg-red-900/50 dark:border-red-800":"bg-purple-50 border-purple-200 dark:bg-purple-900/50 dark:border-purple-800"})}function Q(e){let{isOpen:t,onClose:r,onImport:l}=e,[o,i]=(0,s.useState)(""),[d,n]=(0,s.useState)(!1);return(0,a.jsx)(D,{open:t,onOpenChange:e=>!e&&r(),children:(0,a.jsxs)(F,{className:"sm:max-w-[500px] dark:bg-gray-800 dark:border-gray-700",children:[(0,a.jsxs)(P,{children:[(0,a.jsx)(H,{className:"dark:text-white",children:"Import Collection"}),(0,a.jsx)(J,{className:"dark:text-gray-300",children:"Paste a collection share code to import it."})]}),(0,a.jsx)("div",{className:"space-y-4 py-4",children:(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(p,{value:o,onChange:e=>i(e.target.value),placeholder:"Paste collection share code here...",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})})}),(0,a.jsxs)(M,{children:[(0,a.jsx)(m,{type:"button",variant:"outline",onClick:r,className:"dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:"Cancel"}),(0,a.jsx)(m,{type:"button",onClick:()=>{if(o.trim()){n(!0);try{let e=function(e){try{var t;let r=atob(e),a=JSON.parse(r);if(t=a,!("object"==typeof t&&"string"==typeof t.name&&"number"==typeof t.minStars&&Array.isArray(t.topics)&&t.topics.every(e=>"object"==typeof e&&"string"==typeof e.name)))throw Error("Invalid collection format");return{...a,id:Date.now(),seenRepos:[]}}catch(e){return console.error("Failed to import collection:",e),null}}(o.trim());if(!e){B({title:"Import Failed",description:"The collection code is invalid or corrupted.",variant:"destructive"});return}l(e),i(""),r(),B({title:"Collection Imported",description:'Successfully imported "'.concat(e.name,'" collection.')})}catch(e){B({title:"Import Failed",description:"There was an error importing the collection.",variant:"destructive"})}finally{n(!1)}}},disabled:!o.trim()||d,className:"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800",children:d?"Importing...":"Import Collection"})]})]})})}var $=r(5196),W=r(4357);function ee(e){let{isOpen:t,onClose:r,collection:l}=e,[o,i]=(0,s.useState)(""),[d,n]=(0,s.useState)(!1),c=(0,s.useRef)(null);return(0,s.useEffect)(()=>{t&&l?i(btoa(JSON.stringify({...l,seenRepos:[]}))):i(""),n(!1)},[t,l]),(0,a.jsx)(D,{open:t,onOpenChange:e=>!e&&r(),children:(0,a.jsxs)(F,{className:"sm:max-w-[500px] dark:bg-gray-800 dark:border-gray-700",children:[(0,a.jsxs)(P,{children:[(0,a.jsxs)(H,{className:"dark:text-white",children:["Share Collection: ",null==l?void 0:l.name]}),(0,a.jsx)(J,{className:"dark:text-gray-300",children:"Copy this share code and send it to others so they can import your collection."})]}),(0,a.jsx)("div",{className:"space-y-4 py-4",children:(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("textarea",{ref:c,value:o,readOnly:!0,rows:4,className:"w-full p-3 text-sm font-mono bg-gray-100 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,a.jsx)(m,{type:"button",size:"sm",onClick:()=>{c.current&&(c.current.select(),document.execCommand("copy"),navigator.clipboard.writeText(o).then(()=>{n(!0),B({title:"Copied to clipboard",description:"Share code has been copied to your clipboard."}),setTimeout(()=>n(!1),2e3)}).catch(e=>{console.error("Failed to copy: ",e),B({title:"Copy failed",description:"Please select and copy the text manually.",variant:"destructive"})}))},className:"absolute top-2 right-2 h-8 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800",children:d?(0,a.jsx)($.A,{className:"h-4 w-4"}):(0,a.jsx)(W.A,{className:"h-4 w-4"})})]})})}),(0,a.jsx)(M,{children:(0,a.jsx)(m,{type:"button",onClick:r,className:"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800",children:"Close"})})]})})}var et=r(9531),er=r(3052),ea=r(9428);let es=et.bL,el=et.l9;et.YJ,et.ZL,et.Pb,et.z6,s.forwardRef((e,t)=>{let{className:r,inset:s,children:l,...o}=e;return(0,a.jsxs)(et.ZP,{ref:t,className:n("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...o,children:[l,(0,a.jsx)(er.A,{className:"ml-auto"})]})}).displayName=et.ZP.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(et.G5,{ref:t,className:n("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...s})}).displayName=et.G5.displayName;let eo=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...l}=e;return(0,a.jsx)(et.ZL,{children:(0,a.jsx)(et.UC,{ref:t,sideOffset:s,className:n("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});eo.displayName=et.UC.displayName;let ei=s.forwardRef((e,t)=>{let{className:r,inset:s,...l}=e;return(0,a.jsx)(et.q7,{ref:t,className:n("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",r),...l})});ei.displayName=et.q7.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,checked:l,...o}=e;return(0,a.jsxs)(et.H_,{ref:t,className:n("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:l,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(et.VF,{children:(0,a.jsx)($.A,{className:"h-4 w-4"})})}),s]})}).displayName=et.H_.displayName,s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(et.hN,{ref:t,className:n("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(et.VF,{children:(0,a.jsx)(ea.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=et.hN.displayName;let ed=s.forwardRef((e,t)=>{let{className:r,inset:s,...l}=e;return(0,a.jsx)(et.JU,{ref:t,className:n("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",r),...l})});ed.displayName=et.JU.displayName;let en=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(et.wv,{ref:t,className:n("-mx-1 my-1 h-px bg-muted",r),...s})});en.displayName=et.wv.displayName;var ec=r(6474),em=r(3717),ep=r(4126);function eu(e){let{collections:t,selectedCollection:r,onSelectCollection:s,onCreateCollection:l,onEditCollection:o,onDeleteCollection:i}=e;return(0,a.jsxs)(es,{children:[(0,a.jsx)(el,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",size:"sm",className:"bg-white/10 text-white border-white/20 hover:bg-white/20 h-9",children:[r?r.name:"Select Collection",(0,a.jsx)(ec.A,{className:"ml-2 h-4 w-4"})]})}),(0,a.jsxs)(eo,{align:"start",className:"w-56 border-blue-100 dark:border-blue-800 dark:bg-gray-800",children:[(0,a.jsx)(ed,{className:"text-purple-700 dark:text-purple-300",children:"Your Collections"}),(0,a.jsx)(en,{className:"dark:border-gray-700"}),t.map(e=>(0,a.jsxs)(ei,{className:"flex items-center justify-between cursor-pointer ".concat("All"===e.name?"font-semibold text-blue-700 dark:text-blue-300":""," ").concat((null==r?void 0:r.id)===e.id?"bg-blue-50 dark:bg-blue-900/30":""),onClick:()=>s(e),children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsx)("div",{className:"flex items-center",children:"All"!==e.name&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{variant:"ghost",size:"icon",className:"h-6 w-6 text-blue-500 hover:text-blue-700 hover:bg-blue-50 dark:text-blue-400 dark:hover:text-blue-300 dark:hover:bg-blue-900/50",onClick:t=>{t.stopPropagation(),o(e)},children:(0,a.jsx)(em.A,{className:"h-3 w-3"})}),(0,a.jsx)(m,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-500 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/50",onClick:t=>{t.stopPropagation(),i(e.id)},children:(0,a.jsx)(ep.A,{className:"h-3 w-3"})})]})})]},e.id))]})]})}var ex=r(3904),eh=r(6683),eg=r(1788),ef=r(2098),eb=r(3509),ey=r(9304);function ev(){let{setTheme:e}=(0,ey.D)();return(0,a.jsxs)(es,{children:[(0,a.jsx)(el,{asChild:!0,children:(0,a.jsxs)(m,{variant:"outline",size:"sm",className:"bg-white/10 text-white border-white/20 hover:bg-white/20 h-9",children:[(0,a.jsx)(ef.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(eb.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(eo,{align:"end",children:[(0,a.jsx)(ei,{onClick:()=>e("light"),children:"Light"}),(0,a.jsx)(ei,{onClick:()=>e("dark"),children:"Dark"}),(0,a.jsx)(ei,{onClick:()=>e("system"),children:"System"})]})]})}function eN(e){let{collections:t,selectedCollection:r,onSelectCollection:s,onCreateCollection:l,onEditCollection:o,onDeleteCollection:i,onRefresh:d,onExportCollection:n,onImportCollection:c,isLoading:p}=e;return(0,a.jsx)("nav",{className:"bg-gradient-to-r from-purple-600 to-blue-500 dark:from-purple-900 dark:to-blue-900 border-b border-purple-700 dark:border-purple-800 sticky top-0 z-10 shadow-md",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-white",children:"GitHubie"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu,{collections:t,selectedCollection:r,onSelectCollection:s,onCreateCollection:l,onEditCollection:o,onDeleteCollection:i}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:d,disabled:p||!r,className:"ml-2 bg-white/10 text-white border-white/20 hover:bg-white/20 h-9",children:[(0,a.jsx)(ex.A,{className:"h-4 w-4 mr-2 ".concat(p?"animate-spin":"")}),"Refresh"]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:n,disabled:!r,className:"bg-white/10 text-white border-white/20 hover:bg-white/20 h-9",title:"Share Collection",children:[(0,a.jsx)(eh.A,{className:"h-4 w-4 mr-2"}),"Share"]})]}),(0,a.jsxs)(m,{variant:"outline",size:"sm",onClick:c,className:"bg-white/10 text-white border-white/20 hover:bg-white/20 h-9",title:"Import Collection",children:[(0,a.jsx)(eg.A,{className:"h-4 w-4 mr-2"}),"Import"]}),(0,a.jsx)(ev,{}),(0,a.jsx)(m,{onClick:l,size:"sm",className:"bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-600 dark:hover:bg-emerald-700 h-9",children:"New Collection"})]})]})})}async function ej(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,a="topic:".concat(t," stars:>=").concat(r),s="https://api.github.com/search/repositories?q=".concat(encodeURIComponent(a),"&sort=stars&order=desc&per_page=100"),l=await fetch(s,{headers:{Authorization:"token ".concat(e),Accept:"application/vnd.github.v3+json"}});if(!l.ok)throw Error("GitHub API error: ".concat(l.status));return(await l.json()).items.map(e=>({id:e.id,name:e.name,owner:e.owner.login,description:e.description||"",url:e.html_url,stars:e.stargazers_count,topics:e.topics||[],image:e.owner.avatar_url}))}var ek=r(7649);let ew=ek.bL;ek.l9;let eS=ek.ZL,eC=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(ek.hJ,{className:n("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t})});eC.displayName=ek.hJ.displayName;let eA=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsxs)(eS,{children:[(0,a.jsx)(eC,{}),(0,a.jsx)(ek.UC,{ref:t,className:n("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s})]})});eA.displayName=ek.UC.displayName;let eT=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:n("flex flex-col space-y-2 text-center sm:text-left",t),...r})};eT.displayName="AlertDialogHeader";let eR=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:n("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};eR.displayName="AlertDialogFooter";let eI=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(ek.hE,{ref:t,className:n("text-lg font-semibold",r),...s})});eI.displayName=ek.hE.displayName;let eE=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(ek.VY,{ref:t,className:n("text-sm text-muted-foreground",r),...s})});eE.displayName=ek.VY.displayName;let eO=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(ek.rc,{ref:t,className:n(c(),r),...s})});eO.displayName=ek.rc.displayName;let ez=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(ek.ZD,{ref:t,className:n(c({variant:"outline"}),"mt-2 sm:mt-0",r),...s})});ez.displayName=ek.ZD.displayName;var eD=r(3057);let e_=eD.Kq,eL=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(eD.LM,{ref:t,className:n("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...s})});eL.displayName=eD.LM.displayName;let eF=(0,o.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",purple:"border-purple-200 bg-purple-50 text-purple-900 dark:border-purple-800 dark:bg-purple-900/50 dark:text-purple-100"}},defaultVariants:{variant:"default"}}),eP=s.forwardRef((e,t)=>{let{className:r,variant:s,...l}=e;return(0,a.jsx)(eD.bL,{ref:t,className:n(eF({variant:s}),r),...l})});eP.displayName=eD.bL.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(eD.rc,{ref:t,className:n("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...s})}).displayName=eD.rc.displayName;let eM=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(eD.bm,{ref:t,className:n("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...s,children:(0,a.jsx)(z.A,{className:"h-4 w-4"})})});eM.displayName=eD.bm.displayName;let eH=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(eD.hE,{ref:t,className:n("text-sm font-semibold",r),...s})});eH.displayName=eD.hE.displayName;let eJ=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(eD.VY,{ref:t,className:n("text-sm opacity-90",r),...s})});function eU(){let{toasts:e}=function(){let[e,t]=(0,s.useState)(Z);return(0,s.useEffect)(()=>(K.push(t),()=>{let e=K.indexOf(t);e>-1&&K.splice(e,1)}),[e]),{toasts:e,toast:e=>{let t=Y(),r=()=>q({type:"DISMISS_TOAST",toastId:t});return q({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),setTimeout(()=>{q({type:"REMOVE_TOAST",toastId:t})},5e3),{id:t,dismiss:r,update:e=>q({type:"UPDATE_TOAST",toast:e,toastId:t})}},dismiss:e=>q({type:"DISMISS_TOAST",toastId:e})}}();return(0,a.jsxs)(e_,{children:[e.map(e=>{let{id:t,title:r,description:s,action:l,...o}=e;return(0,a.jsxs)(eP,{...o,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[r&&(0,a.jsx)(eH,{children:r}),s&&(0,a.jsx)(eJ,{children:s})]}),l,(0,a.jsx)(eM,{})]},t)}),(0,a.jsx)(eL,{})]})}function eV(){let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)([]),[o,i]=(0,s.useState)(null),[d,n]=(0,s.useState)([]),[c,m]=(0,s.useState)([]),[p,u]=(0,s.useState)({}),[x,h]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),[b,y]=(0,s.useState)(!1),[N,j]=(0,s.useState)(!1),[k,w]=(0,s.useState)(void 0),[S,C]=(0,s.useState)(null),[A,R]=(0,s.useState)(""),[I,E]=(0,s.useState)({}),[O,z]=(0,s.useState)(1),[D,_]=(0,s.useState)(!0),[L,F]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=localStorage.getItem("githubApiKey");e&&t(e);let r=localStorage.getItem("githubCollections");r&&l(JSON.parse(r));let a=localStorage.getItem("githubStoredRepositories");a&&E(JSON.parse(a));let s=localStorage.getItem("githubCollectionFavorites");s&&u(JSON.parse(s))},[]),(0,s.useEffect)(()=>{r.length>0&&localStorage.setItem("githubCollections",JSON.stringify(r))},[r]),(0,s.useEffect)(()=>{Object.keys(I).length>0&&localStorage.setItem("githubStoredRepositories",JSON.stringify(I))},[I]),(0,s.useEffect)(()=>{Object.keys(p).length>0&&localStorage.setItem("githubCollectionFavorites",JSON.stringify(p))},[p]),(0,s.useEffect)(()=>{e&&localStorage.setItem("githubApiKey",e)},[e]),(0,s.useEffect)(()=>{let e=localStorage.getItem("theme");e?document.documentElement.classList.add(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark")},[]),(0,s.useEffect)(()=>{o&&L.length>0&&P()},[O,o,L]);let P=()=>{let e=10*O;n(L.slice(0,e)),_(e<L.length)},M=async e=>{let t;l(r.some(t=>t.id===e.id)?r.map(t=>t.id===e.id?e:t):[...r,e]),i(e),await J(e)},H=e=>{let t=I[e];return!!t&&Date.now()-t.lastFetched<864e5},J=async t=>{if(e){if(z(1),_(!0),H(t.id)){let e=I[t.id];F(e.repositories),m(e.seenRepositories);return}h(!0),n([]),m([]),F([]);try{let r=new Set(t.seenRepos||[]),a=new Set,s=[],l=[];for(let o=0;o<t.topics.length;o++){let i=t.topics[o],d=i.minStars||t.minStars||500;R("Loading ".concat(i.name," (").concat(o+1,"/").concat(t.topics.length,")..."));try{for(let t of(await ej(e,i.name,d)))a.has(t.id)||(a.add(t.id),r.has(t.id)?l.push(t):s.push(t))}catch(e){console.error("Error fetching repositories for topic ".concat(i.name,":"),e),B({title:"Error",description:"Failed to load repositories for topic: ".concat(i.name),variant:"destructive",className:"bg-red-50 border-red-200 dark:bg-red-900/50 dark:border-red-800"})}}let o=s.sort((e,t)=>t.stars-e.stars),i=l.sort((e,t)=>t.stars-e.stars);F(o),m(i),E(e=>({...e,[t.id]:{repositories:o,seenRepositories:i,lastFetched:Date.now()}})),R("")}catch(e){console.error("Error fetching repositories:",e),B({title:"Error",description:"Failed to load repositories",variant:"destructive",className:"bg-red-50 border-red-200 dark:bg-red-900/50 dark:border-red-800"})}finally{h(!1)}}};return(0,a.jsxs)("main",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[e?(0,a.jsx)(eN,{collections:r,selectedCollection:o,onSelectCollection:e=>{if(i(e),z(1),H(e.id)){let t=I[e.id];F(t.repositories),m(t.seenRepositories)}else J(e)},onCreateCollection:()=>{w(void 0),f(!0)},onEditCollection:e=>{w(e),f(!0)},onDeleteCollection:e=>{C(e)},onRefresh:()=>{o&&J(o)},onExportCollection:()=>j(!0),onImportCollection:()=>y(!0),isLoading:x}):null,(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[e?(0,a.jsxs)("div",{className:"space-y-6",children:[A&&(0,a.jsx)("div",{className:"bg-blue-50 text-blue-700 p-2 rounded-md text-center text-sm max-w-4xl mx-auto border border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",children:A}),o?(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)(T,{repositories:d,seenRepositories:c,isLoading:x,onMarkAsSeen:e=>{if(!o)return;let t=d.find(t=>t.id===e);if(!t)return;let a={...o,seenRepos:[...o.seenRepos||[],e]},s=r.map(e=>e.id===a.id?a:e);i(a),l(s);let p=L.filter(t=>t.id!==e),u=d.filter(t=>t.id!==e),x=[...c,t].sort((e,t)=>t.stars-e.stars);F(p),n(u),m(x),I[o.id]&&E(e=>({...e,[o.id]:{...e[o.id],repositories:p,seenRepositories:x}}))},onAddTopicToCollection:e=>{if(!o)return;if(o.topics.some(t=>t.name===e)){B({title:"Topic already exists",description:'The topic "'.concat(e,'" is already in this collection.'),className:"bg-purple-50 border-purple-200 dark:bg-purple-900/50 dark:border-purple-800"});return}let t={...o,topics:[...o.topics,{name:e,minStars:void 0}]};l(r.map(e=>e.id===o.id?t:e)),i(t),B({title:"Topic added",description:'Added "'.concat(e,'" to collection. Click Refresh to load repositories.'),className:"bg-purple-50 border-purple-200 dark:bg-purple-900/50 dark:border-purple-800"})},onToggleFavorite:e=>{if(!o)return;let t=o.id.toString(),r=p[t]||[],a=r.findIndex(t=>t.id===e);if(a>=0){let e=[...r];e.splice(a,1),u({...p,[t]:e}),B({title:"Removed from favorites",description:"Repository removed from favorites",className:"bg-purple-50 border-purple-200 dark:bg-purple-900/50 dark:border-purple-800"})}else{let a=[...d,...c].find(t=>t.id===e);a&&(u({...p,[t]:[...r,a]}),B({title:"Added to favorites",description:"Repository added to favorites",className:"bg-purple-50 border-purple-200 dark:bg-purple-900/50 dark:border-purple-800"}))}},collectionName:o.name,collectionTopics:o.topics,favorites:o&&p[o.id.toString()]||[],onLoadMore:()=>{!x&&D&&z(e=>e+1)},hasMore:D,collectionId:o.id})}):(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 max-w-4xl mx-auto",children:(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-center",children:r.length>0?"Select a collection to view repositories":"Create a collection to start exploring repositories"})})]}):(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center text-purple-700 dark:text-purple-400",children:"GitHubie"}),(0,a.jsx)(v,{onSubmit:e=>{t(e)}})]}),(0,a.jsx)(V,{isOpen:g,onClose:()=>f(!1),onSave:M,collection:k}),(0,a.jsx)(Q,{isOpen:b,onClose:()=>y(!1),onImport:e=>{if(r.find(t=>t.name===e.name)){let t=1,a="".concat(e.name," (").concat(t,")");for(;r.some(e=>e.name===a);)t++,a="".concat(e.name," (").concat(t,")");e.name=a}l([...r,e]),i(e),J(e)}}),(0,a.jsx)(ee,{isOpen:N,onClose:()=>j(!1),collection:o}),(0,a.jsx)(ew,{open:null!==S,onOpenChange:e=>!e&&C(null),children:(0,a.jsxs)(eA,{className:"dark:bg-gray-800 dark:border-gray-700",children:[(0,a.jsxs)(eT,{children:[(0,a.jsx)(eI,{className:"dark:text-white",children:"Delete Collection"}),(0,a.jsx)(eE,{className:"dark:text-gray-300",children:"Are you sure you want to delete this collection? This action cannot be undone."})]}),(0,a.jsxs)(eR,{children:[(0,a.jsx)(ez,{className:"dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:"Cancel"}),(0,a.jsx)(eO,{onClick:()=>{if(null!==S){if(l(r.filter(e=>e.id!==S)),(null==o?void 0:o.id)===S&&(i(null),n([]),m([])),I[S]){let e={...I};delete e[S],E(e)}if(p[S]){let e={...p};delete e[S],u(e)}C(null)}},className:"bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700",children:"Delete"})]})]})})]}),(0,a.jsx)(eU,{})]})}eJ.displayName=eD.VY.displayName},9304:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,ThemeProvider:()=>o});var a=r(5155),s=r(2115);let l=(0,s.createContext)({theme:"system",setTheme:()=>null});function o(e){let{children:t,defaultTheme:r="system",...o}=e,[i,d]=(0,s.useState)(r);return(0,s.useEffect)(()=>{let e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===i){let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);return}e.classList.add(i)},[i]),(0,a.jsx)(l.Provider,{...o,value:{theme:i,setTheme:e=>{localStorage.setItem("theme",e),d(e)}},children:t})}let i=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[402,441,684,358],()=>t(8253)),_N_E=e.O()}]);